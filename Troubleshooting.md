### Домашнее задание к занятию  Troubleshooting

##### Задача 1

1. Найти `opid` операций, которые выполняются дольше 3 минут

          db.currentOp(
          {
           "active" : true,
           "secs_running" : { "$gt" : 180 },
         }
        )
   
   
2. Завершить операцию по `opid`
 
       db.killOp(<opid>)
       
1. Настроить профилирование и проанализировать долгие запросы. Можно оптимизировать запросы или настроить индексы
2. Как вариант - настроить максимально возможное время выполнения запросов через `$maxTimeMS.`       
 

##### Задача 2
Похоже что  проблема в методе удаления ключей с истекшим сроком действия. По умолчанию `Redis` запускает 20 `ACTIVE_EXPIRE_CYCLE_LOOKUPS_PER_LOOP` 10 раз в секунду. То есть алгоритм удаляет 200 ключей в секунду. Если `Redis` блокирует операции записи, значит в базе появилось большое количество ключей, которые истекают в одно время (их количество больше 25% от текущей совокупности ключей с истекшим сроком действия).

##### Задача 3

##### Задача 4
